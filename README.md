# ILINE-Group
Тестовое задание

## Задача:
Написать скрипт, который позволит определенные логи событий из срм системы "amo crm" загружать в гугл таблицу, а именно в динамические ячейки гугл таблиц.
Например, Логи кластера №1 сегодня в ячейку А1, а завтра Логи этого же кластера отправляем в ячейку А2 и тд.

## Вариант решения:

Для подключения к гугл-таблицам, создания новой таблицы и её наполнения использован Google Sheets API v4.

В Google Cluod был создан проект, подключены для этого проекта API: Drive API и Sheets API.
В проекте был создан сервисный аккаунт и для него был добавлен ключ - тип ключа JSON, был скачен JSON файл, который необходим для создания сервис-объекта для работы с гугл таблицами.
(Service Accounts - Manage keys - Add key - JSON)

## Requirements
google-api-python-client

python-dotenv

## main.py 
1. Класс Tables, имеет метод создания новой гугл-таблицы, метод записи данных в таблицу из файла. Имя файла (либо путь/имя) с логами необходимо указать в файле .env в переменной LOG_FILE
2. Для записи данных в уже существующую таблицу необходимо в файле .env В переменную SPREADSHEET_ID можно записать ID гугл таблицы
Внутри класса создан сервис-объект для работы с гугл-таблицами и предоставления доступа к ним.


## .env
Пример содержимого файла

CREDENTIALS_FILE = 'managesheet-578909-eeba45bd219f.json' # пример имени файла с закрытым ключом, полученый при создании Сервисного аккаунта


SPREADSHEET_ID = '1613BR-ljmLeW80XdQaWo3cu3CuMw95jRA2GIDjISGpo'  # пример ID google таблицы, куда вносим данные


LOG_FILE = logs.log  # путь и имя файла с логами
